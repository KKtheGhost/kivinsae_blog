---
title: 加密货币杂谈（二）：黄金矿工
date: 2023-02-26 23:03:00
categories:
- [decentralized,defi]
tags: 
- lang_chinese
- cryptography
- decentralized
- blockchain
---
**阅读预警**：本篇除了让你挖到一点点连提取都做不到的比特币以外，没有任何作用。但是还是会告诉任何对比特币有兴趣的人一些足够珍贵的知识。

![Mining Farm](./2023-02-26-DeFi02/Why-Is-Bitcoin-Mining-So-Energy-Intensive.jpg)

## **前言**
从这篇文章开始，我的博客应该会逐步使用 ChatGPT 作为辅助工具来进行写作。当然我会故意保留一些自己行文的语言特色，这样读者才会知道，他读的是我的~~大肠~~文章。

就像预警里所说的，我希望通过这篇博客让读者对于经典虚拟货币的开采过程，也就是 **工作证明（PoW）** 模式有一个简要的了解，对于比特币的开采，存储，记账有一个最简单的认知。大段大段的文论摘抄没什么必要，没有什么会比自己手动亲自开采几聪（`Satoshi` - 比特币最小单位）比特币来得直观。

如果能对从来没有了解过虚拟币开采和交易的朋友有一些启发，或者搏君一笑，那也不枉费写这些废话的时间了。

## **如何储存虚拟货币**
就如我们在 [加密货币杂谈（一）：创生与加密](https://www.kivinsae.com/2023/01/29/2023-01-29-DeFi01/) 里动手实践的一样，一个虚拟币钱包是一种存储数字货币的地址所有权申明，也是区块链上交易发生的对象。对于广义的虚拟币钱包定义，可以扩大理解成包含钱包管理软件和交易机构在内的一切可以帮助用户管理其加密货币钱包地址的私钥和公钥的工具和平台。广义的虚拟币钱包可以分为三种类型：**冷钱包**，**热钱包**和**交易所钱包**。它们之间有一些显著的差异和特点。

### **冷钱包**
冷钱包是一种完全脱机的钱包，可以将数字货币的私钥和公钥存储在离线设备中，例如硬件钱包或纸钱包。它们通常**与互联网隔离**，因此无法通过网络访问。由于冷钱包的私钥从未也永远不会连接到互联网，因此它们更安全，可以防止黑客攻击。但是，使用冷钱包进行对外转账时，需要将其连接到互联网上，并且需要手动签署交易，因此交易速度可能会变慢。

个人建议是真正用来存手头库存货币的那个钱包，永远不要触网。要么使用自己的钱包群将其隐藏起来，要么用之即弃。对于自己最重要的那个冷钱包，可以无上限追求安全性。
- <font color="Green">利</b></font>：安全性高，私钥未连接到互联网，可以防止黑客攻击。
- <font color="Red">弊</b></font>：需要手动签署交易，交易速度较慢。

### **热钱包**
热钱包是一种连接到互联网的钱包，可以帮助用户快速和方便地进行交易。热钱包可以存储数字货币的私钥和公钥，但是由于它们在线或者触网，因此存在被黑客攻击的风险。当然了，一些热钱包还可以与硬件钱包配合使用，以提高安全性。
- <font color="Green">利</b></font>：快速和方便地进行交易。
- <font color="Red">弊</b></font>：安全性较低，易受黑客攻击。

### **交易所钱包**
交易所钱包是一种由加密货币交易所提供的在线钱包。与热钱包类似，交易所钱包连接到互联网，可以快速进行交易。但是，由于交易所管理用户的私钥，因此用户无法完全控制其数字资产。此外，一些交易所因为管理不善或黑客攻击而导致数字资产丢失的事件也时有发生。

梭哈猿人的这篇 [虚拟币交易所跑路史](https://all-in-ape.com/running/) 记录了过去 20 年比较知名的中大型交易所的跑路历史。可以说只要是交易所，跑路的概率就不小。但是没了交易所，确实也不行，流动性和交易难度直接陡增。

币安和火币会跑路吗？在他们跑路前那天谁都不知道。这也是为什么我三番五次不建议 **任何人** 参与虚拟币杠杆投资和垃圾币交易的原因。当然自己要选择富贵险中求的话，也没人拦着。
- <font color="Green">利</b></font>：快速进行交易，不需要自己管理私钥。
- <font color="Red">弊</b></font>：安全性不高，用户无法完全控制其数字资产，存在管理不善或黑客攻击导致数字资产丢失的风险。

综上所述，不同类型的虚拟币钱包各有优劣，用户可以根据自己的需求和风险承受能力选择适合自己的钱包。如果用户的数字资产数量较大，冷钱包可能是更好的选择。

- ⚠️ **只有当虚拟币存入你作为唯一的私钥拥有者的冷钱包后，这笔钱才真正属于你**
- ⚠️ **但是少量放在交易所提升流动性，是合理的**

### **记录过程和一致性**
在 [加密货币杂谈（一）：创生与加密](https://www.kivinsae.com/2023/01/29/2023-01-29-DeFi01/) 没有特别详细的描述链上交易的过程的细节。这里大致解释一下为什么比特币交易过程理论上几乎不可被篡改。

比特币交易的记录和处理是通过一个称为“区块链”的公共分布式账本系统实现的。每个区块链都由许多个区块组成，每个区块包含一些新的交易信息，以及一个指向前一个区块的链接（称为 **哈希 Hash**），从而形成一个链式结构。
- 每个比特币交易都由一个或多个输入和一个或多个输出组成。输入是之前的比特币交易的输出，这些输出被发送到接收方的地址。输出是比特币交易的接收方地址和交易金额的组合。
- 每个比特币交易都需要经过网络中的矿工进行验证和记录。矿工通过解决一个复杂的数学问题来验证交易，并将其添加到区块链上。
- 一旦交易被验证，它就会被添加到一个区块中。这个区块包含多个交易，以及一个称为"区块头"的元数据，其中包括上一个区块的哈希值、时间戳、难度目标和其他信息。
- 一旦区块被创建，它就会被广播到整个比特币网络中。其他矿工会收到这个新的区块并验证其中的交易是否合法，如果合法就会将其添加到自己的区块链中。
- 当大多数矿工都将这个新的区块添加到自己的区块链中时，这个区块就被认为是“确认”了。确认的交易记录是不可更改的，因为任何试图修改它们的尝试都会被其他节点拒绝。（当然这里其实涉及一个被时常提到的概念，就是绝对多数篡改攻击。不过仅限比特币这类主流币的话，多数篡改是不可能的，在完成多数篡改以前会先生成一个质量超过猎户臂的超级黑洞。参考 [Bremermann's limit](https://en.wikipedia.org/wiki/Bremermann's_limit)）

比特币实现一致性的关键是通过共识机制，即 **工作量证明（Proof of Work）**。矿工需要解决一个复杂的数学问题来验证交易并添加到区块链上，这个过程需要大量的计算能力和时间。因此，当一个新的区块被添加到区块链上时，它需要其他矿工的验证和认可，这样才能保证这个区块是合法的，并被整个网络认可。这个过程需要时间，但一旦确认的交易被添加到区块链上，它们就是不可更改的，因此整个网络的一致性得到了保障。

在下一章会详细讲一下 PoW。

## **虚拟货币是如何被开采出来的**
在描述比特币的开采过程之前，我觉得还是得稍微介绍以下工作证明。工作证明我个人的理解来说，是一种对 **比特币交易的记录和验证** 这件苦差事的奖励。通过动态难度的哈希碰撞问题来让矿工们被动地维护整个庞大地比特币交易记录链。

### **工作证明 PoW**
工作量证明（Proof of Work，简称PoW）是比特币和其他一些加密货币所使用的一种共识算法。它是一种解决分布式系统中恶意行为问题的方法，通过要求参与者完成计算任务来证明他们的贡献，从而获得记账权和奖励。以下是工作量证明的实现原理：
- **难度目标**：工作量证明的核心是一个难题，该难题是一个哈希碰撞问题，即找到一个特定的哈希值，使得该哈希值的前缀满足一定的条件。这个条件是由网络中所有节点共同维护的，称为难度目标。难度目标通常会根据整个网络的算力而调整，以确保平均每10分钟只能生成一个新的区块。
- **矿工的计算**：参与者称为矿工，他们需要完成这个哈希碰撞问题，以便将新的交易打包到区块中，并将其添加到区块链中。矿工通过在不断尝试不同的随机数的同时，计算出包含所有交易的区块头的哈希值，该哈希值必须满足难度目标。
- **激励**：完成区块的计算任务的第一个矿工，将获得新的比特币作为奖励，并可以将新的区块添加到区块链中。这就是工作量证明的核心思想，即完成计算任务的矿工将获得奖励，因此会有更多的人参与到计算中来。
- **确认交易**：一旦区块添加到区块链中，其中包含的所有交易将被确认，并在比特币网络中广播。这样，其他节点就可以验证交易的有效性，并确保网络的安全性和去中心化。

总之，工作量证明是一种在分布式系统中实现共识的方法，它通过要求参与者完成计算任务来证明他们的贡献，从而获得记账权和奖励。尽管工作量证明算法是比特币和其他加密货币使用的最常见的共识算法之一，但它也因为需要大量的计算能力和能源消耗而受到一些争议。因此，现在也有一些替代的共识算法出现，如权益证明（Proof of Stake）和权益分享证明（Proof of Burn）。

### **开采过程**
其实开采过程正是**工作证明**过程的另一种描述，如果理解了**工作证明**的概念，则会非常容易想明白。开采过程主要分以下四个步骤：
- **验证交易**：比特币网络中的节点会验证交易的有效性。验证通过后，交易会被广播到网络中的所有节点。
- **选择交易**：矿工需要选择要包含在他们的区块中的交易。一般来说，矿工会选择交易费用最高的交易，因为这可以增加他们的收益。
- **打包交易**：一旦选择了要包含的交易，矿工需要将它们打包成一个区块。这个过程涉及到**解决一个难题**，也就是工作量证明。这个难题要求矿工在计算中使用大量的计算资源，以便为比特币网络提供安全性和去中心化。
- **提交区块**：一旦矿工成功地解决了难题，他们会将新的区块广播到整个比特币网络中。如果其他节点也确认了该区块的有效性，则该区块将被添加到区块链中，并奖励该矿工一定数量的比特币。

### **什么是难题，如何计算**
对于这个问题，其实往简单了说，就是一个 `SHA-256 Brute Crack`。恰好这里有一个视频非常生动的描述了比特币打包交易难题的计算过程，嗯，手动笔算过程。**Salute**

<details style="box-shadow: 2px 2px 5px; border-radius: 6px; padding: .5em .5em .5em;">
    <summary><b>Mining Bitcoin with pencil and paper</b></summary>
    <div style="position: relative; padding-bottom: 56.25%; height: 0;">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/y3dqhixzGVo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
    </div>
    <br>
</details>
<br>

关于这个视频的文字解释可以参考：[Mining Bitcoin with pencil and paper: 0.67 hashes per day](http://www.righto.com/2014/09/mining-bitcoin-with-pencil-and-paper.html)

也就是说，通过手动计算，每天可以完成 0.67 Hashes 的计算量。而现在全球的矿机的计算总量大约是每秒 290,000,000,000,000,000,000 Hashes。如果你想手动算出一个比特币的话，可以算到**质子衰变**发生那天。放弃吧，呆头鹅，有那个寿命道祖都能给你按脚了，挖什么垃圾加密币啊。

## **难度和工具的旷古之争**
比特币挖矿难度除了在 2010 年之前的原初混沌时期，其实一直都是比特币减半周期和矿机算力的螺旋竞争，因此本章也大概聊聊这两个东西到底在搞什么。

### **比特币减半**
众所周知，比特币的总量是固定的，21,000,000 个。开采完就没了。而比特币减半是指比特币网络中每 21 万个区块（约 4 年）就会发生一次减半事件，即比特币的区块奖励减半。具体来说，比特币网络中的矿工通过完成哈希碰撞问题来计算新的区块，完成后会获得比特币奖励，这个奖励每21万个区块就会减半一次。比特币的区块奖励从最初的50个比特币减半到现在的 6.25 个比特币。

比特币减半的原理是由比特币协议的设计所决定的。比特币的发行总量是有限的，最大上限是2100万个比特币，而这个总量是由比特币协议中的发行规则决定的。比特币的发行是通过矿工挖矿所获得的奖励来实现的，这些比特币奖励每隔一段时间就会减半。通过减半机制，比特币的发行速度逐渐减缓，最终会达到 2100 万个比特币的上限。

比特币减半的目的是确保比特币的稀缺性和价值，从而鼓励更多的人参与到比特币挖矿中来。随着比特币的区块奖励的减半，挖矿变得更加困难，但挖到新的比特币的价值也会随之增加。这意味着只有最优秀的矿工才能挖到新的比特币，而其他矿工则可能会放弃挖矿或寻找更加有利的方式来挖掘比特币。因此，比特币减半是一个重要的机制，可以帮助比特币网络保持稳定和安全，并且确保比特币的稀缺性和价值。

因此我们并不难理解比特币在较长的周期里保持价格相对稳定（69000 刀跌到 17000 刀，我写这里的时候差点笑出声）的根源逻辑，以及可以预见的未来这个东西潜在的价格锚定方式。

### **矿机史**
比特币矿机的发展历程可以分为以下几个阶段：

1. **CPU挖矿阶段（2009年-2010年）**- 在比特币刚开始的时候，由于参与者比较少，使用普通计算机的CPU也可以进行挖矿。比特币创始人中本聪在刚开始时也是使用普通计算机挖矿，当时的难度系数很低，每个区块的奖励也很高。然而，随着比特币的知名度和参与者数量的增加，CPU 挖矿很快变得不够快和有效了。

2. **GPU挖矿阶段（2010年-2013年）**- 由于 CPU 挖矿效率不高，比特币矿工开始尝试使用图形处理器（GPU）来加速挖矿。GPU 比 CPU 更擅长进行并行计算，因此可以在相同时间内完成更多的哈希运算，从而提高挖矿效率。这一阶段的发展阶段比较长，期间出现了很多厂商开始生产专门用于挖矿的GPU矿机，比如 ATI（现在的AMD）和 Nvidia 等。GPU 挖矿在挖矿效率上的提高让越来越多的人开始关注比特币，这也导致比特币价格的不断上涨。本冤种也是在这个阶段挖了几十个 BTC，然后让他们消散在了尘埃里。千万元，谈笑间，灰飞烟灭。

3. **FPGA挖矿阶段（2013年-2014年）**- 随着比特币的知名度和参与者数量的增加，GPU挖矿也开始变得不够快和有效了。于是，矿工们开始尝试使用基于现场可编程门阵列（FPGA）的挖矿硬件。FPGA可以根据不同的挖矿算法进行编程，因此具有更高的灵活性和效率。FPGA挖矿硬件的出现也让比特币网络中的算力得到了进一步提升。

4. **ASIC挖矿阶段（2014年至今）**- ASIC（专用集成电路）挖矿硬件是目前比特币矿机的主流，也是比特币挖矿的最高效方法。ASIC是为特定算法设计的硬件，比如比特币挖矿算法SHA-256。与通用计算机不同，ASIC芯片可以大幅度提高计算速度，使得比特币的挖矿效率得到了极大的提高。现在的ASIC矿机通常由专业制造商生产，包括比特大陆、嘉楠耘智、英特尔等，这些专业制造商生产的ASIC矿机通常在挖矿效率、能耗等方面都有着非常大的优势，使得个人矿工逐渐被淘汰。此外，由于ASIC矿机的价格相对较高，需要投入大量资金购买才能参与比特币挖矿，因此比特币矿业也逐渐从个人矿工转向专业矿业，而矿池的兴起也加速了这一趋势。目前，比特币矿机的发展已经进入到 ASIC 的多代产品迭代和优化的阶段，各家厂商不断推出更高效、更节能的 ASIC 矿机，以争夺市场份额。

事实上到了阶段 4 以后，个人无论用什么非专业设备进行比特币挖矿，都是镜花水月纯粹徒劳。挖一年可能连最低限度的转账数额都达不到，仿佛和笑话一样。

总的来说，比特币矿机的发展经历了从 CPU 挖矿到 GPU、FPGA、ASIC 挖矿的演进过程，随着技术的不断进步，挖矿硬件的效率也在不断提高。目前，比特币挖矿已经成为一项需要大量投入资金、专业技术和优秀运营能力的产业，而且在未来，挖矿的环境和形势也将面临更大的挑战和变化。而且从实际现状来看，政策和管制方面的压力占比会越来越高。

## **动手开采你的第一个 `0.00000001 BTC`**
如果你能读到这里，我首先还是得赞叹以下您的耐力。如果看完上面那么多晦涩的术语以后你还希望尝试挖一下比特币过个瘾，或者说哪怕获取一聪（satoshi，最小比特币单位，为 `0.00000001 BTC`）的比特币都能让你不再抱有遗憾的话，那么我会帮助你。

仅从个人的观点来说，此时此刻 2023 年春季，最适合个人参与比特币挖矿的方式，一定不是像个傻逼一样在那边假如算力池进行开挖。而是通过类似 `NiceHash` 这样的算力贩卖巨头，来出售你手头图形卡的浮点算力，并且让 `NiceHash` 之流对你的算例进行 BTC 结算。你可以很容易通过一两天的挂机获得上百聪的比特币。

本文无意于搬运冗长的 Step-by-step NiceHash 搬砖教程，如果真的感兴趣，可以参考以下视频，如果看的走火入魔，本人仅为无意间分享，对读者具体行为概不知情。
<details style="box-shadow: 2px 2px 5px; border-radius: 6px; padding: .5em .5em .5em;">
    <summary><b>教你每天自动挖收益最高的币种 用Hive OS挖NiceHash收益最大化教程</b></summary>
    <div style="position: relative; padding-bottom: 56.25%; height: 0;">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/fTaVkSJPuf8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
    </div>
    <br>
</details>
<br>

那么，祝诸君财运昌隆，显卡早日冒烟。

## **一些重要的忠告**
- 挖矿在中华人民共和国境内**违法**
- 挖矿**损害**广大游戏玩家和人工智能行业的基本权益
- 挖矿现在**基本不赚钱**，触发停机价格是常态
- 个人挖矿，有一个是一个，都是**傻逼**